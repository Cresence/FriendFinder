<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Friend Finder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  
</head>
<body>
    <div class="container">

		<div class="jumbotron">
			<h1 class="text-center"><span class="glyphicon glyphicon-home"></span> Friend Finder</h1>
			<hr>
			<h2 class="text-center">Find A Friend!</h2>
			<br>

			<div class="text-center">
				<a href="/"><button type="button" class="btn btn-lg btn-default"><span class="glyphicon glyphicon-home"></span></button></a>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-12">

				<!-- Reservation Page -->
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">Friend Survey</h4>
					</div>
					<div class="panel-body">

						<form role="form">

							<div class="form-group">
								<label for="name">Name</label>
								<input type="text" class="form-control" id="name" required>
							</div>

							<div class="form-group">
								<label for="photo">Photo Link</label>
								<input type="text" class="form-control" id="photo" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="ques1">Question 1: Would you jump into battle to save your friends?</label>
                                <select class="form-control" id="ques1">
                                    <option>1 (Disagree)</option>
                                    <option>2 (Neutral)</option>
                                    <option>3 (Agree)</option>    
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="ques2">Question 2: Is sacrificing 1 to save 100 right?</label>
                                <select class="form-control" id="ques2">
                                    <option>1 (Disagree)</option>
                                    <option>2 (Neutral)</option>
                                    <option>3 (Agree)</option>    
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="ques3">Question 3: Are you more comfortable alone, or with a group?</label>
                                <select class="form-control" id="ques3">
                                    <option>1 (Disagree)</option>
                                    <option>2 (Neutral)</option>
                                    <option>3 (Agree)</option>    
                                </select>
                            </div>

							<button id="add-btn" type="submit" class="btn btn-primary submit">Submit</button>
						</form>

					</div>
				</div>

			</div>
		</div>


	    <footer class="footer">
	      <div class="container">
	        <p><a href="/api/friends">API Friends Link</a> | <a href="https://github.com/Cresence/FriendFinder">Git Repo</a></p>
	      </div>
	    </footer>

	</div>
	<script type="text/javascript">
        // Question: What does this code do?
        $("#add-btn").on("click", function(event) {
            event.preventDefault();
            const arr = [];
            const query1 = $('#ques1').val().trim();
            const query2 = $('#ques1').val().trim();
            const query3 = $('#ques1').val().trim();
            // arr.push(query1, query2, query3);
            const newQuery1 = parseInt(query1.charAt(0)); 
            const newQuery2 = parseInt(query2.charAt(0)); 
            const newQuery3 = parseInt(query3.charAt(0));
            let score = newQuery2;
            console.log(score);
            let surveyInquiry = {
                name: $("#name").val().trim(),
                score,
                photo: $("#photo").val().trim()
            };

          console.log(surveyInquiry.score);
    
          // Question: What does this code do??
          $.post("/api/friends", surveyInquiry)
            .then(function(friends) {
              console.log("survey.html", friends);
            //   alert("Searching...");
            });
            location.assign('/result');
        });

      </script>
</body>
</html>